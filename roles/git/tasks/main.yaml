- name: Setup Git Config
  ansible.builtin.copy:
    src: gitconfig
    dest: ~/.gitconfig
    mode: 0664

- name: Get Current Dir Path
  ansible.builtin.command: pwd
  register: dotfiles_dir
  changed_when: false
- name: Update dotfiles
  ansible.builtin.git: # noqa: latest
    repo: https://github.com/logica0419/dotfiles.git
    dest: '{{ dotfiles_dir.stdout }}'

- name: Clone GitHub Repositories
  ansible.builtin.git: # noqa: latest
    repo: '{{ item.repo }}'
    dest: '{{ prj_dir }}/{{ item.dest }}'
  with_items:
    - repo: https://github.com/traPtitech/traQ.git
      dest: traP/SysAd/traQ
